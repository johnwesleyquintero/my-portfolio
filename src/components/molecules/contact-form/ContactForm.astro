---
interface Props {
  heading?: string;
}

const { heading = 'Get in Touch' } = Astro.props as Props;

let nameValue = '';
let emailValue = '';
let messageValue = '';

function handleNameInput(e: Event) {
  nameValue = (e.target as HTMLInputElement).value;
}

function handleEmailInput(e: Event) {
  emailValue = (e.target as HTMLInputElement).value;
}

function handleMessageInput(e: Event) {
  messageValue = (e.target as HTMLTextAreaElement).value;
}
---

<section aria-labelledby="contact-heading" class="max-w-2xl mx-auto py-12">
  <h2 id="contact-heading" class="text-3xl font-bold text-emerald-400 mb-8">{heading}</h2>
  
  <form class="space-y-6" method="POST" action="/api/contact">
    <div class="space-y-4">
      <div>
        <label for="name" class="block text-sm font-medium text-slate-300 mb-2">Name</label>
        <input
          type="text"
          id="name"
          name="name"
          class="w-full bg-slate-800/50 border border-slate-700 rounded-lg px-4 py-2 text-slate-200 focus:ring-2 focus:ring-emerald-400 focus:border-emerald-400 transition-colors"
          oninput={handleNameInput}
        />
      </div>

      <div>
        <label for="email" class="block text-sm font-medium text-slate-300 mb-2">Email</label>
        <input
          type="email"
          id="email"
          name="email"
          class="w-full bg-slate-800/50 border border-slate-700 rounded-lg px-4 py-2 text-slate-200 focus:ring-2 focus:ring-emerald-400 focus:border-emerald-400 transition-colors"
          oninput={handleEmailInput}
        />
      </div>

      <div>
        <label for="message" class="block text-sm font-medium text-slate-300 mb-2">Message</label>
        <textarea
          id="message"
          name="message"
          rows="4"
          class="w-full bg-slate-800/50 border border-slate-700 rounded-lg px-4 py-2 text-slate-200 focus:ring-2 focus:ring-emerald-400 focus:border-emerald-400 transition-colors"
          on:input={handleMessageInput}
        ></textarea>
      </div>
    </div>

    <button
      type="submit"
      class="w-full bg-emerald-500/20 text-emerald-300 px-6 py-3 rounded-lg font-medium hover:bg-emerald-500/30 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
    >
      Send Message
    </button>
  </form>
</section>
